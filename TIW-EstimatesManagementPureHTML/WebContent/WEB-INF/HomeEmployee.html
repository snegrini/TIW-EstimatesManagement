<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Employee page</title>
	<link rel="stylesheet" type="text/css" href="../css/default.css" th:href="@{/css/default.css}"/>
	<link rel="stylesheet" type="text/css" href="../css/homeemployee.css" th:href="@{/css/homeemployee.css}"/>
</head>
<body>
	<header class="headerrow">
		<div class="titlecolumn">
			<h1>Customer Page</h1>
			<h4>Welcome <span th:text="${session.user.username} + ' !'">MarioRossi</span></h4>
		</div>
		<div class="buttoncolumn">
			<a th:href="@{/Logout}">Logout</a>
		</div>
	</header>

	<br>

	<!-- div of priced order -->

	<div class="container">
		<div class="column column-50">
			<h4>Priced estimates by you:</h4>
			<p th:if="${#lists.isEmpty(pricedEstimates)}" th:text="'You haven't priced any estimates.'"></p>
			<table th:unless="${#lists.isEmpty(pricedEstimates)}">
				<thead>
					<tr>
						<th>Estimate ID</th>
						<th>Product Name</th>
						<th>Price</th>
						<th>Link</th>
					</tr>
				</thead>
				<tbody th:remove="all-but-first">
					<tr th:each="e : ${pricedEstimates}" th:class="(${e.id} == ${estimateid})? 'current'">
						<td th:text="${e.id}">5</td>
						<td>
							<span th:each="p : ${pricedProducts}" th:if="${e.productId} == ${p.id}" th:text="${p.name}">Treno Suburbano S111</span>
						</td>
						<td><span th:text="${e.price}">15</span> <span>&euro;</span></td>
						<td><a href="">Details</a></td>
					</tr>
					<tr>
						<td>6</td>
						<td>
							<span>Treno S4</span>
						</td>
						<td><span th:text="${e.price}">79.90</span> <span>&euro;</span></td>
						<td><a href="">Details</a></td>
					</tr>
					<tr>
						<td>8</td>
						<td>
							<span>Treno S9</span>
						</td>
						<td><span th:text="${e.price}">9.75</span> <span>&euro;</span></td>
						<td><a href="">Details</a></td>
					</tr>
				</tbody>
			</table>
		</div>

		<!-- div of non-priced order -->
		<div class="column column-50">
			<h4>Product not priced yet:</h4>
			<p th:if="${#lists.isEmpty(nonPricedEstimates)}" th:text="'There are no estimates to be priced.'"></p>
			<table th:unless="${#lists.isEmpty(nonPricedEstimates)}">
				<thead>
					<tr>
						<th>Estimate ID</th>
						<th>Product Name</th>
					</tr>
				</thead>
				<tbody th:remove="all-but-first">
					<tr th:each="e : ${nonPricedEstimates}">
						<td th:text="${e.id}">1</td>
						<td >
							<a href="EstimatePrice.html" th:href="@{/CreateEstimatePrice(estimateid=${e.id})}">
								<span th:each="p : ${nonPricedProducts}" th:if="${e.productId} == ${p.id}" th:text="${p.name}">Prodotto1</span>
							</a>
						</td>
					</tr>
					<tr>
						<td>2</td>
						<td>
							<a href="EstimatePrice.html"><span>Prodotto2</span></a>
						</td>
					</tr>
					<tr>
						<td>3</td>
						<td>
							<a href="EstimatePrice.html"><span>Prodotto3</span></a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>

	<footer>
	  <p>Made with &hearts; by Samuele Negrini, Aldo Plenzich, Mattia Sala</p>
	</footer>

</body>
</html>
